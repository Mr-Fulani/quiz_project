# –°–†–û–ß–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ hash fragment

## –ü—Ä–æ–±–ª–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞
Telegram —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ **hash fragment** –≤ —Ñ–æ—Ä–º–∞—Ç–µ `#tgAuthResult=base64_json` –≤–º–µ—Å—Ç–æ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

–í –ª–æ–≥–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞ –≤–∏–¥–Ω–æ:
```
en/#tgAuthResult=eyJpZCI6NzY2MjU3NjcxNCwiZmlyc3RfbmFtZSI6IkRldmVsb3BtZW50Iiw...
```

–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –¥–µ–∫–æ–¥–∏—Ä—É—é—Ç—Å—è –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è –≤–∫–ª—é—á–∞—è hash –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏.

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ hash fragment `#tgAuthResult=...`
2. ‚úÖ –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ base64 JSON –¥–∞–Ω–Ω—ã—Ö
3. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–æ–∏—Ö –º–µ—Ç–æ–¥–æ–≤ (query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ hash fragment)
4. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ URL –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –°–ï–ô–ß–ê–°

### 1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
```bash
cd /opt/quiz_project/quiz_project
git fetch origin
git checkout fix/telegram-auth-issue
git pull origin fix/telegram-auth-issue
```

### 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä quiz_backend
```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ quiz_backend (–±—ã—Å—Ç—Ä–µ–µ)
docker compose -f docker-compose.local-prod.yml up -d --build quiz_backend

# –ò–ª–∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –±–µ–∑ –∫—ç—à–∞ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
docker compose -f docker-compose.local-prod.yml build --no-cache quiz_backend
docker compose -f docker-compose.local-prod.yml up -d quiz_backend
```

### 3. –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞
–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å **–∂–µ—Å—Ç–∫—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É** –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- **Windows/Linux**: `Ctrl + Shift + R`
- **macOS**: `Cmd + Shift + R`

–ò–ª–∏ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é.

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram
3. –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:
   - `üîê –û–ë–ù–ê–†–£–ñ–ï–ù–´ –î–ê–ù–ù–´–ï –û–¢ TELEGRAM –í HASH FRAGMENT!`
   - `‚úÖ –û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞: {success: true, ...}`
4. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ

### 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Django (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker compose -f docker-compose.local-prod.yml logs -f quiz_backend | grep -i "telegram"

# –ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏
docker compose -f docker-compose.local-prod.yml logs quiz_backend --tail=100 | grep -i "telegram"
```

## –í–∞–∂–Ω–æ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤ –≤–µ—Ç–∫–µ `fix/telegram-auth-issue`
- –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∂–µ—Å—Ç–∫—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ (Ctrl+Shift+R)
- –õ–æ–≥–∏ Django –Ω–µ –≤–∏–¥–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞, —Ç–æ–ª—å–∫–æ –≤ –ª–æ–≥–∞—Ö Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–æ–≤—ã–π –∫–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker compose -f docker-compose.local-prod.yml exec quiz_backend grep -c "tgAuthResult" /app/blog/templates/blog/base.html
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: 1 –∏–ª–∏ –±–æ–ª—å—à–µ
```

