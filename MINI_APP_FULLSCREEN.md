# Настройка полноэкранного режима для Telegram Mini App

## Проблема

Telegram Mini App открывался не в полноэкранном режиме (Fullscreen), а в компактном или среднем размере окна.

## Решение

Добавлены множественные вызовы метода `expand()` из Telegram Web App API для гарантированного полноэкранного режима.

## Изменения

### 1. `mini_app/templates/base.html`

- Добавлена функция `expandToFullscreen()` для расширения приложения на весь экран
- Вызов `expand()` выполняется:
  - Сразу при загрузке страницы
  - После инициализации Telegram WebApp
  - При изменении viewport (через событие `viewportChanged`)
  - С задержками 100ms и 500ms для гарантии

### 2. `mini_app/templates/index.html`

- Добавлен вызов `expand()` при загрузке страницы
- Добавлен обработчик события `viewportChanged` для автоматического расширения при изменении размера окна

## Как это работает

Telegram Web App API предоставляет три режима развертывания:
1. **Compact** - на пол экрана
2. **Medium** - чуть выше, почти весь дисплей
3. **Fullscreen** - весь дисплей (максимальный размер)

Метод `expand()` переводит приложение в полноэкранный режим (Fullscreen).

## Проверка

После деплоя проверьте в консоли браузера (через Telegram Desktop или веб-версию):
- Должны появиться сообщения: `✅ [FULLSCREEN] Приложение расширено на весь экран`
- Приложение должно открываться на весь экран при нажатии на кнопку меню

## Дополнительные настройки

Если полноэкранный режим не работает, проверьте:
1. Что используется последняя версия Telegram Web App SDK
2. Что скрипт `telegram-web-app.js` загружается корректно
3. Что метод `expand()` вызывается после `ready()`

## Технические детали

Метод `expand()` вызывается в следующих местах:
- В начале загрузки страницы (до загрузки контента)
- После вызова `ready()`
- При изменении viewport
- С задержками для гарантии выполнения

Это гарантирует, что приложение всегда открывается в полноэкранном режиме, независимо от того, как пользователь открыл Mini App.

