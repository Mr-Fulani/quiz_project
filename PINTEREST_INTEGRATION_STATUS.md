# –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Pinterest API

## üìã –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (Sandbox API / Trial –¥–æ—Å—Ç—É–ø)

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **OAuth 2.0 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
   - –ü–æ–ª—É—á–µ–Ω–∏–µ access token —á–µ—Ä–µ–∑ OAuth flow
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ `SocialMediaCredentials`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Sandbox –∏ Production API (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `PINTEREST_USE_SANDBOX`)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ refresh token –∏ –≤—Ä–µ–º–µ–Ω–∏ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞

2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–∏–Ω–æ–≤ (`create_pin`)**
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ Sandbox API
   - –°–æ–∑–¥–∞–µ—Ç –ø–∏–Ω—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º, –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å—Å—ã–ª–∫–æ–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –¥–æ—Å–∫–∏ –ø–æ —Ç–µ–º–µ –∑–∞–¥–∞—á–∏
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–µ–∑–∫–∞ —Ç–µ–∫—Å—Ç–∞ –¥–æ –ª–∏–º–∏—Ç–æ–≤ Pinterest (title: 100, description: 500)

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (`get_user_info`)**
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ Sandbox API
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç username, board_count –∏ –¥—Ä—É–≥—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

4. **–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∏–Ω–æ–≤ (`get_pins`)**
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ Sandbox API
   - –ò–∑–≤–ª–µ–∫–∞–µ—Ç `board_id` –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∏–Ω–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–¥–æ 5 —Å—Ç—Ä–∞–Ω–∏—Ü)

5. **–í—ã–±–æ—Ä –¥–æ—Å–∫–∏ –ø–æ —Ç–µ–º–µ**
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∫—ç—à –≤ `extra_data.boards_cache`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –¥–æ—Å–∫–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–µ–º—ã
   - Fallback –Ω–∞ –¥–æ—Å–∫—É "code" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –ö—ç—à –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 1 —á–∞—Å

6. **Django management –∫–æ–º–∞–Ω–¥–∞ `get_pinterest_boards`**
   - ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ `board_id` –∏–∑ –ø–∏–Ω–æ–≤
   - –†—É—á–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –¥–æ—Å–æ–∫ —á–µ—Ä–µ–∑ `--boards` –∏–ª–∏ `--boards-file`
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `extra_data.boards_cache`

### ‚ö†Ô∏è –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Sandbox API

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å–æ–∫ —á–µ—Ä–µ–∑ API (`get_boards`)**
   - ‚ùå –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ `[]`, —Ö–æ—Ç—è —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –¥–æ—Å–∫–∏
   - –≠—Ç–æ **–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Sandbox API** –¥–ª—è Trial –¥–æ—Å—Ç—É–ø–∞
   - API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `board_count > 0`, –Ω–æ —Å–ø–∏—Å–æ–∫ –¥–æ—Å–æ–∫ –ø—É—Å—Ç–æ–π

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –¥–æ—Å–æ–∫**
   - ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è `get_boards()`
   - –ù–∞–∑–≤–∞–Ω–∏—è –¥–æ—Å–æ–∫ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é

### üîß –û–±—Ö–æ–¥–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–¥–ª—è Sandbox API)

1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ `board_id` –∏–∑ –ø–∏–Ω–æ–≤**
   ```bash
   docker compose exec quiz_backend python manage.py get_pinterest_boards
   ```
   - –ö–æ–º–∞–Ω–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –ø–∏–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ò–∑–≤–ª–µ–∫–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ `board_id` –∏–∑ –ø–∏–Ω–æ–≤
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ `extra_data.boards_cache`

2. **–†—É—á–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –¥–æ—Å–æ–∫**
   ```bash
   docker compose exec quiz_backend python manage.py get_pinterest_boards \
     --boards '{"code": "900579325426238155", "Python": "900579325426238155", "JavaScript": "–¥—Ä—É–≥–æ–π_id"}'
   ```
   - –ö–ª—é—á–∏ - –Ω–∞–∑–≤–∞–Ω–∏—è –¥–æ—Å–æ–∫ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–µ–º–µ)
   - –ó–Ω–∞—á–µ–Ω–∏—è - `board_id` (—á–∏—Å–ª–æ–≤–æ–π ID –¥–æ—Å–∫–∏)

3. **–ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É Django**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `SocialMediaCredentials` –¥–ª—è Pinterest
   - –í –ø–æ–ª–µ `Extra data` –¥–æ–±–∞–≤—å—Ç–µ:
   ```json
   {
     "boards_cache": {
       "code": "900579325426238155",
       "Python": "900579325426238155",
       "JavaScript": "–¥—Ä—É–≥–æ–π_id"
     },
     "boards_cache_time": "2024-01-01T12:00:00"
   }
   ```

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

```
quiz_backend/
‚îú‚îÄ‚îÄ tasks/
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ       ‚îú‚îÄ‚îÄ social_media_service.py      # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
‚îÇ       ‚îî‚îÄ‚îÄ platforms/
‚îÇ           ‚îî‚îÄ‚îÄ pinterest_api.py          # Pinterest API –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ webhooks/
‚îÇ   ‚îú‚îÄ‚îÄ pinterest_oauth.py                # OAuth 2.0 flow
‚îÇ   ‚îî‚îÄ‚îÄ management/
‚îÇ       ‚îî‚îÄ‚îÄ commands/
‚îÇ           ‚îî‚îÄ‚îÄ get_pinterest_boards.py   # –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å–æ–∫
‚îî‚îÄ‚îÄ config/
    ‚îî‚îÄ‚îÄ urls.py                           # URL –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è OAuth
```

### üîë –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏

#### `pinterest_api.py`
- `PinterestAPI.__init__()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å —Ç–æ–∫–µ–Ω–æ–º
- `PinterestAPI.create_pin()` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∏–Ω–∞
- `PinterestAPI.get_user_info()` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- `PinterestAPI.get_pins()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–∏–Ω–æ–≤ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Sandbox)
- `PinterestAPI.get_boards()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å–æ–∫ (–ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Sandbox)

#### `social_media_service.py`
- `_publish_to_pinterest()` - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ –≤ Pinterest
- `_get_pinterest_board_by_topic()` - –≤—ã–±–æ—Ä –¥–æ—Å–∫–∏ –ø–æ —Ç–µ–º–µ –∑–∞–¥–∞—á–∏
  - –ò—â–µ—Ç –¥–æ—Å–∫—É –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–µ–º—ã
  - Fallback –Ω–∞ –¥–æ—Å–∫—É "code"
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à –∏–∑ `extra_data.boards_cache`

#### `pinterest_oauth.py`
- `pinterest_oauth_authorize()` - —à–∞–≥ 1: —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Pinterest
- `pinterest_oauth_callback()` - —à–∞–≥ 2: –æ–±–º–µ–Ω code –Ω–∞ token

#### `get_pinterest_boards.py`
- Django management –∫–æ–º–∞–Ω–¥–∞
- –ü–æ–ª—É—á–∞–µ—Ç `board_id` –∏–∑ –ø–∏–Ω–æ–≤ –∏–ª–∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ä—É—á–Ω—É—é
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `extra_data.boards_cache`

### üìä –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

#### `SocialMediaCredentials`
```python
{
    'platform': 'pinterest',
    'access_token': 'pina_...',
    'refresh_token': '...',
    'token_expires_at': datetime,
    'is_active': True,
    'extra_data': {
        'boards_cache': {
            'code': '900579325426238155',
            'Python': '900579325426238155',
            'JavaScript': '–¥—Ä—É–≥–æ–π_id'
        },
        'boards_cache_time': '2024-01-01T12:00:00'
    }
}
```

### üîÑ –ü—Ä–æ—Ü–µ—Å—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∑–∞–¥–∞—á–∏

1. **–¢—Ä–∏–≥–≥–µ—Ä:** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `task.published = True`
2. **–í—ã–±–æ—Ä –¥–æ—Å–∫–∏:**
   - –ü–æ–ª—É—á–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã –∏–∑ `task.topic.name`
   - –ò—â–µ—Ç –¥–æ—Å–∫—É –≤ `boards_cache` –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–µ–º—ã
   - –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–æ—Å–∫—É "code"
   - –ï—Å–ª–∏ –∏ "code" –Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `extra_data.board_id`
3. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–∏–Ω–∞:**
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫: `"–ß—Ç–æ –≤–µ—Ä–Ω–µ—Ç —ç—Ç–æ—Ç –∫–æ–¥ {topic_name}?"`
   - –û–ø–∏—Å–∞–Ω–∏–µ: `"–í—ã–±–µ—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç"` + –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
   - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: `task.image_url`
   - –°—Å—ã–ª–∫–∞: `https://mini.quiz-code.com`
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å `SocialMediaPost`
   - –°—Ç–∞—Ç—É—Å: `published`, `failed` –∏–ª–∏ `processing`

---

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ Production API –∫–ª—é—á–µ–π

### –®–∞–≥ 1: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Production API

1. **–û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª:**
   ```bash
   PINTEREST_USE_SANDBOX=false
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
   ```bash
   docker compose restart quiz_backend
   ```

### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –¢–æ–∫–µ–Ω—ã Sandbox –∏ Production API **–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã**. –ù—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è Production API.

1. **–û—Ç–∫—Ä–æ–π—Ç–µ OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:**
   ```
   http://localhost:8001/auth/pinterest/authorize/
   ```
   (–∏–ª–∏ `https://quiz-code.com/auth/pinterest/authorize/` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

2. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ Pinterest**
   - –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –¥–æ—Å–∫–∞–º –∏ –ø–∏–Ω–∞–º
   - –¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É: `/admin/webhooks/socialmediacredentials/`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∏ `is_active = True`

### –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å–æ–∫

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ Production API –º–µ—Ç–æ–¥ `get_boards()` –¥–æ–ª–∂–µ–Ω –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å.

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø—Ä–∏ –ø–µ—Ä–≤–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏):**
   - –ö—ç—à –¥–æ—Å–æ–∫ –æ–±–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –í—Å–µ –¥–æ—Å–∫–∏ –±—É–¥—É—Ç –ø–æ–ª—É—á–µ–Ω—ã —á–µ—Ä–µ–∑ API
   - –ù–∞–∑–≤–∞–Ω–∏—è –¥–æ—Å–æ–∫ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `boards_cache`

2. **–í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É:**
   ```bash
   docker compose exec quiz_backend python manage.py get_pinterest_boards
   ```
   - –ö–æ–º–∞–Ω–¥–∞ –ø–æ–ª—É—á–∏—Ç –≤—Å–µ –¥–æ—Å–∫–∏ —á–µ—Ä–µ–∑ API
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç –∏—Ö –≤ `extra_data.boards_cache`
   - –ü–æ–∫–∞–∂–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å–æ–∫ —Å –∏—Ö ID

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å–æ–∫:**
   ```bash
   docker compose exec quiz_backend python manage.py get_pinterest_boards
   ```
   - –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∞—à–∏—Ö –¥–æ—Å–æ–∫
   - –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç–æ–π - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏–∫–∞—Ü–∏—é:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É: `/admin/tasks/task/`
   - –í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–¥–∞—á—É —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `published = True`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
     ```bash
     docker compose logs -f quiz_backend | grep -i pinterest
     ```
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Pinterest - –ø–∏–Ω –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–∞ –¥–æ—Å–∫–µ

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å–æ–∫ –ø–æ —Ç–µ–º–∞–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–µ–º (Python, JavaScript, Golang –∏ —Ç.–¥.):

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–æ—Å–æ–∫ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —Ç–µ–º:**
   - –î–æ—Å–∫–∞ "Python" ‚Üí —Ç–µ–º–∞ "Python"
   - –î–æ—Å–∫–∞ "JavaScript" ‚Üí —Ç–µ–º–∞ "JavaScript"
   - –î–æ—Å–∫–∞ "code" ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫—ç—à –¥–æ—Å–æ–∫:**
   ```bash
   docker compose exec quiz_backend python manage.py get_pinterest_boards
   ```
   - –ö–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –¥–æ—Å–∫–∏ –∏ –∏—Ö ID
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–æ—Å–æ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ

3. **–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –¥–æ—Å–∫–∏ –≤ –∫—ç—à–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É: `/admin/webhooks/socialmediacredentials/`
   - –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø–∏—Å—å Pinterest
   - –í –ø–æ–ª–µ `Extra data` –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `boards_cache`:
   ```json
   {
     "boards_cache": {
       "code": "900579325426238155",
       "Python": "900579325426238155",
       "JavaScript": "–¥—Ä—É–≥–æ–π_id"
     }
   }
   ```

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: `get_boards()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫

**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Sandbox API (Trial –¥–æ—Å—Ç—É–ø)

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–ª—è Sandbox API - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—Ö–æ–¥–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ –ø–∏–Ω–æ–≤)
2. –î–ª—è Production API - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - `PINTEREST_USE_SANDBOX=false` –≤ `.env`
   - –¢–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω –¥–ª—è Production API
   - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `boards:read`

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ 403 "Trial access may not create Pins in production"

**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Production API, –Ω–æ —Ç–æ–∫–µ–Ω –¥–ª—è Sandbox

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `PINTEREST_USE_SANDBOX=true` –≤ `.env`
2. –ò–ª–∏ –ø–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è Production API

### –ü—Ä–æ–±–ª–µ–º–∞: –î–æ—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –¥–ª—è —Ç–µ–º—ã

**–ü—Ä–∏—á–∏–Ω–∞:** –í `boards_cache` –Ω–µ—Ç –¥–æ—Å–∫–∏ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫—ç—à –¥–æ—Å–æ–∫:
   ```bash
   docker compose exec quiz_backend python manage.py get_pinterest_boards
   ```
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–æ—Å–∫–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ç–µ–º—ã (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ)
3. –î–æ–±–∞–≤—å—Ç–µ –¥–æ—Å–∫—É –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `--boards` –∏–ª–∏ –∞–¥–º–∏–Ω–∫—É

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫

**–ü—Ä–∏—á–∏–Ω–∞:** Access token –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ OAuth:
   ```
   http://localhost:8001/auth/pinterest/authorize/
   ```
2. –ò–ª–∏ —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ refresh token flow (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Sandbox API

- **Trial –¥–æ—Å—Ç—É–ø** –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
  - `get_boards()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
  - –ü–∏–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥–µ (–Ω–µ –≤–∏–¥–Ω—ã –≤ production Pinterest)
  - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ endpoints –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

### Production API

- **Production –¥–æ—Å—Ç—É–ø** —Å–Ω–∏–º–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
  - `get_boards()` —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –¥–æ—Å–∫–∏
  - –ü–∏–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º Pinterest
  - –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º endpoints

### –ö—ç—à –¥–æ—Å–æ–∫

- –ö—ç—à –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 1 —á–∞—Å
- –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `get_pinterest_boards`
- –ö—ç—à —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `extra_data.boards_cache`
- –§–æ—Ä–º–∞—Ç: `{"–Ω–∞–∑–≤–∞–Ω–∏–µ_–¥–æ—Å–∫–∏": "board_id"}`

### –í—ã–±–æ—Ä –¥–æ—Å–∫–∏

1. –ò—â–µ—Ç –¥–æ—Å–∫—É –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–µ–º—ã (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ)
2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–æ—Å–∫—É "code"
3. –ï—Å–ª–∏ –∏ "code" –Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `extra_data.board_id`
4. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Pinterest API v5 Documentation](https://developers.pinterest.com/docs/api/v5/)
- [Pinterest OAuth 2.0 Guide](https://developers.pinterest.com/docs/getting-started/authentication/)
- [Pinterest Developer Portal](https://developers.pinterest.com/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ OAuth –Ω–∞—Å—Ç—Ä–æ–π–∫–µ](./PINTEREST_OAUTH_SETUP.md)

---

## üìÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **2024-01-XX**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `get_pinterest_boards` –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è `board_id` –∏–∑ –ø–∏–Ω–æ–≤
- **2024-01-XX**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –æ–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å –¥–ª—è Sandbox API (–ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å–æ–∫ –∏–∑ –ø–∏–Ω–æ–≤)
- **2024-01-XX**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—á–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –¥–æ—Å–æ–∫ —á–µ—Ä–µ–∑ `--boards`
- **2024-01-XX**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –¥–æ—Å–∫–∏ –ø–æ —Ç–µ–º–µ –∑–∞–¥–∞—á–∏

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024-01-XX

