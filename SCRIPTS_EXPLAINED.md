# üìú –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∑–∞–ø—É—Å–∫–∞

## üîç –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

–£ –≤–∞—Å **–¥–≤–∞ –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–∞** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

### 1. `start-local.sh`
```bash
docker compose down --volumes --remove-orphans
docker compose up --build --force-recreate -d
```

### 2. `start-local-clean.sh`
```bash
docker compose down --volumes --remove-orphans
docker compose up --build --force-recreate -d
```

**–í—ã–≤–æ–¥:** –û–Ω–∏ –¥–µ–ª–∞—é—Ç **—Ä–æ–≤–Ω–æ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ**! –†–∞–∑–Ω–∏—Ü–∞ —Ç–æ–ª—å–∫–æ –≤ —Ç–µ–∫—Å—Ç–∞—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

---

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

- üì¶ **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** - –¥–≤–∞ —Ñ–∞–π–ª–∞ —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π
- ü§î **–ü—É—Ç–∞–Ω–∏—Ü–∞** - –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫–æ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- üîß **–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏** - –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –æ–±–∞
- üíæ **–û–±–∞ —É–¥–∞–ª—è—é—Ç volumes** (`--volumes`) - —Ç–µ—Ä—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –ë–î!

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

–°–æ–∑–¥–∞–ª **`start-local-new.sh`** —Å –æ–ø—Ü–∏—è–º–∏:

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:

#### 1. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚≠ê –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
```bash
./start-local-new.sh
```
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–ë–î **—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**)
- –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã Docker
- **–û—á–∏—â–∞–µ—Ç –∫—ç—à Redis** (FLUSHDB)
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ (makemigrations + migrate)
- –°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏–∫—É (collectstatic)
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∫–æ–Ω–∫–∏ (fix_icon_mapping)

**–í—Ä–µ–º—è:** 2-3 –º–∏–Ω—É—Ç—ã  
**–ë–î:** ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è  
**–ö—ç—à:** ‚ùå –û—á–∏—â–∞–µ—Ç—Å—è (–¥–ª—è —á–∏—Å—Ç–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

#### 2. **–ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ + –ë–î**
```bash
./start-local-new.sh --clean-db
```
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –í—Å—ë —Ç–æ –∂–µ + **—É–¥–∞–ª—è–µ—Ç volumes –ë–î**
- –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- –ë–î –±—É–¥–µ—Ç –ø—É—Å—Ç–∞—è (–∫–∞–∫ –Ω–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞)

**–í—Ä–µ–º—è:** 3-5 –º–∏–Ω—É—Ç  
**–ë–î:** ‚ùå –£–¥–∞–ª—è–µ—Ç—Å—è  
**–ö—ç—à:** ‚ùå –û—á–∏—â–∞–µ—Ç—Å—è

#### 3. **–ë—ã—Å—Ç—Ä—ã–π restart**
```bash
./start-local-new.sh --quick
```
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ—Å—Ç–æ `docker compose restart`
- –ë–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏, –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏

**–í—Ä–µ–º—è:** 5 —Å–µ–∫—É–Ω–¥ ‚ö°  
**–ë–î:** ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è  
**–ö—ç—à:** ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

---

## üìã –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

| –î–µ–π—Å—Ç–≤–∏–µ | start-local.sh (—Å—Ç–∞—Ä—ã–π) | start-local-clean.sh (—Å—Ç–∞—Ä—ã–π) | start-local-new.sh (–Ω–æ–≤—ã–π) | --clean-db | --quick |
|----------|-------------------------|-------------------------------|----------------------------|------------|---------|
| –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå |
| –£–¥–∞–ª—è–µ—Ç volumes (–ë–î) | ‚úÖ‚ùå | ‚úÖ‚ùå | ‚ùå‚úÖ | ‚úÖ‚ùå | ‚ùå |
| –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå |
| **–û—á–∏—â–∞–µ—Ç –∫—ç—à Redis** | ‚ùå | ‚ùå | ‚úÖ | ‚úÖ | ‚ùå |
| –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå |
| **–°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏–∫—É** | ‚ùå | ‚ùå | ‚úÖ | ‚úÖ | ‚ùå |
| **–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∫–æ–Ω–∫–∏** | ‚ùå | ‚ùå | ‚úÖ | ‚úÖ | ‚ùå |
| –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | ~3 –º–∏–Ω | ~3 –º–∏–Ω | ~2-3 –º–∏–Ω | ~3-5 –º–∏–Ω | ~5 —Å–µ–∫ |
| –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ë–î | ‚ùå | ‚ùå | ‚úÖ | ‚ùå | ‚úÖ |

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–º–µ–Ω–∏—Ç—å –æ–±–∞ –Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π ‚ú® **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø**

```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ
rm start-local.sh
rm start-local-clean.sh

# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π
mv start-local-new.sh start-local.sh
chmod +x start-local.sh
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫ (–ë–î —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –∫—ç—à —á–∏—Å—Ç–∏—Ç—Å—è, —Å—Ç–∞—Ç–∏–∫–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è)
./start-local.sh

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤–∫–ª—é—á–∞—è –ë–î (—Å–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)
./start-local.sh --clean-db

# –ë—ã—Å—Ç—Ä—ã–π restart (5 —Å–µ–∫, –≤—Å—ë —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è)
./start-local.sh --quick
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- ‚úÖ –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã Docker
- ‚úÖ **–û—á–∏—â–∞–µ—Ç –∫—ç—à Redis** (—á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞–ª –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- ‚úÖ –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏–∫—É
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∫–æ–Ω–∫–∏
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ë–î** (–¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è!)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üíæ –ë–î –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ
- üßπ –ö—ç—à –≤—Å–µ–≥–¥–∞ —á–∏—Å—Ç—ã–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- üì¶ –°—Ç–∞—Ç–∏–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è
- üéØ –û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ

–û—Å—Ç–∞–≤–∏—Ç—å –¥–≤–∞ —Å–∫—Ä–∏–ø—Ç–∞, –Ω–æ —Å–¥–µ–ª–∞—Ç—å –∏—Ö **–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–Ω—ã–º–∏**:

**`start-local.sh`** - –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫:
```bash
#!/bin/bash
echo "‚ö° –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏..."

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ë–ï–ó —É–¥–∞–ª–µ–Ω–∏—è volumes
docker compose down

# –ó–∞–ø—É—Å–∫–∞–µ–º –ë–ï–ó –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
docker compose up -d

# –ú–∏–≥—Ä–∞—Ü–∏–∏
docker compose exec -T quiz_backend python manage.py migrate

echo "‚úÖ –ó–∞–ø—É—â–µ–Ω–æ! –ë–î —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞."
```

**`start-local-clean.sh`** - –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (–ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞):
```bash
#!/bin/bash
echo "üßπ –ü–û–õ–ù–ê–Ø –û–ß–ò–°–¢–ö–ê –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞..."
echo "‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –ë–î –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞!"

read -p "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? [y/N] " -n 1 -r
if [[ ! $REPLY =~ ^[Yy]$ ]]; then
    exit 0
fi

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
docker compose down --volumes --remove-orphans
docker compose up --build --force-recreate -d

echo "‚úÖ –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
```

---

## üéØ –ú–û–Ø –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 1** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç [[memory:3552479]]:

```bash
# 1. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã
rm start-local.sh start-local-clean.sh

# 2. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π
mv start-local-new.sh start-local.sh

# 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
./start-local.sh              # –æ–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫ (–ë–î —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è)
./start-local.sh --rebuild    # –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ (–ë–î —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è)
./start-local.sh --clean      # –ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–ë–î —É–¥–∞–ª—è–µ—Ç—Å—è)
./start-local.sh --quick      # –±—ã—Å—Ç—Ä—ã–π restart
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û–¥–∏–Ω —Ñ–∞–π–ª –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –æ–ø—Ü–∏–∏
- ‚úÖ **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ù–ï —É–¥–∞–ª—è–µ—Ç –ë–î** (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ!)
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏
- ‚úÖ –õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

–í–∞—à–∏ —Ç–µ–∫—É—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã **–æ–±–∞ —É–¥–∞–ª—è—é—Ç volumes** (`--volumes`), —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- ‚ùå –ö–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫ = **–ø–æ—Ç–µ—Ä—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ë–î**
- ‚ùå –ü—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∑–∞–Ω–æ–≤–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø–æ—Å—Ç—ã, –¥–∞–Ω–Ω—ã–µ
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–æ - –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∫–∞–∂–¥—ã–π —Ä–∞–∑

**–ù–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ë–î!**

---

–•–æ—Ç–∏—Ç–µ —á—Ç–æ–±—ã —è –∑–∞–º–µ–Ω–∏–ª —Å—Ç–∞—Ä—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞ –Ω–æ–≤—ã–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π?

