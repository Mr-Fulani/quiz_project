# ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –∫–æ–¥–æ–º —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –£–º–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞—Å–∫–∞–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- **Python**: black ‚Üí autopep8 ‚Üí fallback
- **JavaScript/TypeScript**: prettier ‚Üí fallback
- **Go**: gofmt ‚Üí fallback
- **Rust**: rustfmt ‚Üí fallback
- **SQL**: sqlparse ‚Üí fallback
- **–î—Ä—É–≥–∏–µ —è–∑—ã–∫–∏**: —É–ª—É—á—à–µ–Ω–Ω–æ–µ –±–∞–∑–æ–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ Markdown
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ –±–ª–æ–∫–æ–≤ \`\`\`language...\`\`\` —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —è–∑—ã–∫–∞

### 3. –ù—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫
–í–∫–ª—é—á–µ–Ω–∞ –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –≤ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö

### 4. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 30+ alias: py, js, ts, jsx, react, vue, golang, –∏ —Ç.–¥.

## üì¶ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- ‚úÖ `bot/services/image_service.py` - –æ—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- ‚úÖ `bot/requirements.txt` - –¥–æ–±–∞–≤–ª–µ–Ω—ã black, autopep8, sqlparse
- ‚úÖ `bot/test_image_generation.py` - –Ω–æ–≤—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
- ‚úÖ `bot/CODE_IMAGE_GENERATION_UPGRADE.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
docker-compose down
docker-compose build bot
docker-compose up -d
```

–≠—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`.

### 2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ (–µ—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.12)
cd bot
python test_image_generation.py

# –ò–ª–∏ –≤ Docker
docker-compose exec bot python bot/test_image_generation.py
```

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –≤ `bot/test_output/`

## üí° –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–¥–∞

–¢–µ–ø–µ—Ä—å –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–¥ –∏–∑ markdown –±–ª–æ–∫–æ–≤ –≤ JSON
2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π —Å—Ç—Ä–æ–∫

### –ü—Ä–∏–º–µ—Ä JSON

```json
{
  "translations": [
    {
      "language": "ru",
      "question": "–í–æ—Ç –∫–æ–¥:\n\n```python\ndef hello():\nprint('Hi')\n```"
    }
  ]
}
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ò–∑–≤–ª–µ—á—ë—Ç –∫–æ–¥: `def hello():\nprint('Hi')`
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç —è–∑—ã–∫: `python`
- –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ black
- –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–æ–∫

## üé® –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –î–æ:
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –≤ –∫–æ–¥–µ
- ‚ùå –†—É—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ—à–∏–±–∫–∞–º–∏
- ‚ùå –ù–µ—Ç –Ω—É–º–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤

### –ü–æ—Å–ª–µ:
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤
- ‚úÖ –ù—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –∫–∞–∫ –≤ IDE
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 30+ —è–∑—ã–∫–æ–≤ –∏ alias

## üîç Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

–ï—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, prettier —Ç—Ä–µ–±—É–µ—Ç Node.js):
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä
- –õ–æ–≥–∏—Ä—É–µ—Ç —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ö–æ–¥ –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂—ë–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ù–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è!** –°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è graceful degradation.

## üìù –õ–æ–≥–∏

–¢–µ–ø–µ—Ä—å –≤ –ª–æ–≥–∞—Ö –±–æ—Ç–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω –∫–æ–¥ –∏–∑ markdown –±–ª–æ–∫–∞, —è–∑—ã–∫: python
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω black –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚úÖ –í—ã–±—Ä–∞–Ω —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞: 42
```

–ò–ª–∏:

```
‚ö†Ô∏è black –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω autopep8 –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ API:
- `bot/CODE_IMAGE_GENERATION_UPGRADE.md`

## ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–í—Å–µ —Å—Ç–∞—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã. –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω:**
   ```bash
   docker-compose build bot --no-cache
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞:**
   ```bash
   docker-compose logs bot
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã:**
   ```bash
   docker-compose exec bot python bot/test_image_generation.py
   ```

## üéâ –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã –∫–æ–¥–∞. 

–ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏! üöÄ

