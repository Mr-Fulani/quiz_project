{% extends "base.html" %}

{% block title %}
Главная страница
{% endblock %}

{% block content %}
<!-- Поиск -->
<div class="search-container">
    <input type="text" id="search-input" placeholder="Поиск тем..." onkeyup="handleSearch(event)">
    <div class="search-results" id="search-results"></div>
</div>

<!-- Галерея -->
<div class="gallery" id="gallery">
    <div class="gallery__container">
        <!-- Каждый span представляет собой кликабельную карточку темы -->
        {% for topic in topics %}
        <span style="--i:{{ loop.index0 }};" class="topic-card" data-topic-id="{{ topic.id }}">
            <img src="{{ topic.image_url }}" alt="{{ topic.name }}">
            <div class="card-overlay always-visible">
                <h3>{{ topic.name }}</h3>
                <p class="difficulty">{{ topic.difficulty }}</p>
                <p class="questions">{{ topic.questions_count }} вопросов</p>
                <div class="card-actions">
                    <button class="btn-start" onclick="startTopic(event, {{ topic.id }})">Начать</button>
                    <button class="btn-back" onclick="goBack(event)">Назад</button>
                </div>
            </div>
        </span>
        {% endfor %}
    </div>
</div>



<!-- Подключаем скрипты -->
<script src="/static/js/topic-cards.js"></script>
<script src="/static/js/search.js"></script>
{% endblock %}