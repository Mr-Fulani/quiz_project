# üìã Changelog: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å—Ç–∏–ª–µ–π

**–î–∞—Ç–∞:** 11 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç–∏–ª–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –∏ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –ø–æ—Å–ª–µ `git pull`

---

## üîß –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. **quiz_backend/config/settings.py**

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
```python
# –î–æ:
STATICFILES_STORAGE = 'django.contrib.staticfiles.storage.StaticFilesStorage'

# –ü–æ—Å–ª–µ:
STATICFILES_STORAGE = 'django.contrib.staticfiles.storage.ManifestStaticFilesStorage'
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- Django —Ç–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª—è–µ—Ç —Ö–µ—à –∫ –∏–º–µ–Ω–∞–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ –º–µ–Ω—è–µ—Ç—Å—è –µ–≥–æ –∏–º—è ‚Üí –±—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
- –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥–æ–ª–≥–∏–π —Å—Ä–æ–∫

---

### 2. **nginx/nginx-prod.conf**

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
```nginx
# –î–æ:
location /static/ {
    alias /app/staticfiles/;
    expires 30d;
    add_header Cache-Control "public, no-transform";
}

# –ü–æ—Å–ª–µ:
location /static/ {
    alias /app/staticfiles/;
    
    # –§–∞–π–ª—ã —Å —Ö–µ—à–∞–º–∏ –∫—ç—à–∏—Ä—É–µ–º –Ω–∞ –≥–æ–¥
    location ~ \.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        access_log off;
    }
    
    # –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –∫—ç—à–∏—Ä—É–µ–º –Ω–∞ 1 –¥–µ–Ω—å
    expires 1d;
    add_header Cache-Control "public, must-revalidate";
}
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 1 –≥–æ–¥ (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 1 –¥–µ–Ω—å —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

### 3. **start-prod.sh** ‚≠ê –ì–õ–ê–í–ù–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï

**–î–æ–±–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞:**

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —Å–∫—Ä–∏–ø—Ç —Ç–µ–ø–µ—Ä—å:
1. –û–∂–∏–¥–∞–µ—Ç –ø–æ–ª–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (15 —Å–µ–∫—É–Ω–¥)
2. –û—á–∏—â–∞–µ—Ç –ø–∞–ø–∫—É `staticfiles/`
3. –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏–∫—É —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º (`collectstatic --clear`)
4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç Nginx
6. –í—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./start-prod.sh
```

–ë–æ–ª—å—à–µ –ù–ï –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å–∫–∞—Ç—å –æ—á–∏—Å—Ç–∫—É –∫—ç—à–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è!

---

### 4. **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã**

#### **clear_cache.sh**
–°–∫—Ä–∏–ø—Ç –¥–ª—è —Ä—É—á–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç–∏–ª–∏ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞):
```bash
./clear_cache.sh
```

#### **clear_cache_local.sh**
–¢–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
./clear_cache_local.sh
```

#### **STATIC_FILES_CACHE.md**
–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–±–ª–µ–º–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –µ—ë —Ä–µ—à–µ–Ω–∏—é.

#### **APPLY_CACHE_FIX.md**
–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.

#### **QUICK_START.md**
–ë—ã—Å—Ç—Ä–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–æ–≤.

---

## ‚úÖ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å

### –ü–æ—Å–ª–µ git pull –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
./start-prod.sh

# –ó–∞—Ç–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
# Ctrl+Shift+R (–∏–ª–∏ Cmd+Shift+R –Ω–∞ Mac)
```

**–í—Å—ë!** –ö—ç—à –æ—á–∏—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

### –ï—Å–ª–∏ –æ–±–Ω–æ–≤–∏–ª–∏ —Ç–æ–ª—å–∫–æ —Å—Ç–∏–ª–∏ (–±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞):

```bash
./clear_cache.sh  # –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

### –î–æ:
‚ùå –°—Ç–∏–ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞–ª–∏—Å—å –Ω–∞ 30 –¥–Ω–µ–π  
‚ùå –ü–æ—Å–ª–µ `git pull` –Ω—É–∂–Ω–æ –±—ã–ª–æ –≤—Ä—É—á–Ω—É—é –æ—á–∏—â–∞—Ç—å –∫—ç—à  
‚ùå –§–∞–π–ª—ã –∏–º–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∏–º–µ–Ω–∞ ‚Üí –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–Ω–∏–º–∞–ª, —á—Ç–æ –æ–Ω–∏ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å  
‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥–µ–ª–∏ —Å—Ç–∞—Ä—ã–µ —Å—Ç–∏–ª–∏  

### –ü–æ—Å–ª–µ:
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞  
‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (—Ö–µ—à –≤ –∏–º–µ–Ω–∏)  
‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (1 –≥–æ–¥ –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö, 1 –¥–µ–Ω—å –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö)  
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Å–±–æ—Ä–∫–∏  
‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–æ –∏ –ü–æ—Å–ª–µ

| –ê—Å–ø–µ–∫—Ç | –î–æ | –ü–æ—Å–ª–µ |
|--------|----|----|
| **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ (`style.abc123.css`) |
| **–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞** | ‚öôÔ∏è –í—Ä—É—á–Ω—É—é | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Nginx** | ‚ö†Ô∏è 30 –¥–Ω–µ–π –¥–ª—è –≤—Å–µ—Ö | ‚úÖ 1 –≥–æ–¥ –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö, 1 –¥–µ–Ω—å –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö |
| **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è |
| **Workflow** | üòì –°–ª–æ–∂–Ω—ã–π | üòä –ü—Ä–æ—Å—Ç–æ–π |

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# 1. –ü–æ–ª—É—á–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω (–≤—Å–µ —Å–¥–µ–ª–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
./start-prod.sh

# 3. –í –±—Ä–∞—É–∑–µ—Ä–µ –∂–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
# Ctrl+Shift+R (–∏–ª–∏ Cmd+Shift+R)
```

### –õ–æ–∫–∞–ª—å–Ω–æ:

```bash
# 1. –ü–æ–ª—É—á–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
./start-local.sh
```

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### ManifestStaticFilesStorage

–°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `staticfiles/staticfiles.json` —Å –º–∞–ø–ø–∏–Ω–≥–æ–º:
```json
{
  "admin/css/base.css": "admin/css/base.abc123def456.css",
  "blog/js/main.js": "blog/js/main.789xyz012.js"
}
```

Django –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –≤ —à–∞–±–ª–æ–Ω–∞—Ö —á–µ—Ä–µ–∑ `{% static %}`.

### Nginx –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

```nginx
# –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (—Å —Ö–µ—à–∞–º–∏)
expires 1y;                            # –ö—ç—à –Ω–∞ 1 –≥–æ–¥
Cache-Control: public, immutable       # –ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ

# –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
expires 1d;                            # –ö—ç—à –Ω–∞ 1 –¥–µ–Ω—å
Cache-Control: public, must-revalidate # –° –ø—Ä–æ–≤–µ—Ä–∫–æ–π
```

---

## üÜò –ü–æ–º–æ—â—å

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ:** `STATIC_FILES_CACHE.md`
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ:** `./clear_cache.sh`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:** `docker compose logs quiz_backend`
4. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:** `docker compose down -v && ./start-prod.sh`

---

## üë• –î–ª—è –∫–æ–º–∞–Ω–¥—ã

–ü—Ä–æ–∏–Ω—Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ –≤—Å–µ—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:

> –ü–æ—Å–ª–µ `git pull` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ `./start-prod.sh` - –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—Å—Ç–∏—Ç –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –∫—ç—à —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –í –±—Ä–∞—É–∑–µ—Ä–µ –¥–µ–ª–∞–π—Ç–µ –∂–µ—Å—Ç–∫—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É (Ctrl+Shift+R).

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 11 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

