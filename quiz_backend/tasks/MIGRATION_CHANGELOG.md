# Changelog: Bot Logic Migration to Django

## 2025-01-17 - –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –±–æ—Ç–∞ –≤ Django

### –î–æ–±–∞–≤–ª–µ–Ω–æ

#### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **AWS S3 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** –≤ `config/settings.py`
  - `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY`
  - `AWS_STORAGE_BUCKET_NAME`, `AWS_S3_REGION_NAME`
  - `LOGO_PATH` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

- **–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –≤ `requirements.txt`:
  - `boto3==1.34.0` - AWS S3 SDK
  - `aioboto3==12.3.0` - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π AWS SDK
  - `black==24.1.0` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Python –∫–æ–¥–∞
  - `autopep8==2.0.4` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Python –∫–æ–¥–∞
  - `requests==2.31.0` - HTTP –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è Telegram API

#### üì¶ –ù–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã (`tasks/services/`)

1. **`s3_service.py`** - –†–∞–±–æ—Ç–∞ —Å AWS S3
   - `upload_image_to_s3()` - –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ S3
   - `delete_image_from_s3()` - –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ S3
   - `extract_s3_key_from_url()` - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–∞ –∏–∑ URL
   - –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–∑ async –∫–æ–¥–∞ –±–æ—Ç–∞

2. **`image_generation_service.py`** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - `generate_image_for_task()` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∑–∞–¥–∞—á–∏
   - `generate_console_image()` - –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Å—Ç–∏–ª–µ –∫–æ–Ω—Å–æ–ª–∏
   - `smart_format_code()` - –£–º–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (Python, JS, Go, SQL –∏ –¥—Ä.)
   - `extract_code_from_markdown()` - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ markdown –±–ª–æ–∫–æ–≤
   - `get_lexer()` - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Pygments –ª–µ–∫—Å–µ—Ä–∞ –ø–æ —è–∑—ã–∫—É
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 15+ —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é black, autopep8, prettier, gofmt

3. **`telegram_service.py`** - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Telegram
   - `publish_task_to_telegram()` - –ü–æ–ª–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∑–∞–¥–∞—á–∏
   - `send_photo()` - –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - `send_message()` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞
   - `send_poll()` - –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–ø—Ä–æ—Å–∞ (quiz)
   - `send_message_with_button()` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å inline –∫–Ω–æ–ø–∫–æ–π
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 12 —è–∑—ã–∫–æ–≤ (ru, en, es, tr, ar, fr, de, hi, fa, tj, uz, kz)

4. **`task_import_service.py`** - –ò–º–ø–æ—Ä—Ç –∑–∞–¥–∞—á –∏–∑ JSON
   - `import_tasks_from_json()` - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∏–º–ø–æ—Ä—Ç–∞
   - –°–æ–∑–¥–∞–Ω–∏–µ Topic/Subtopic
   - –°–æ–∑–¥–∞–Ω–∏–µ Task —Å translation_group_id
   - –°–æ–∑–¥–∞–Ω–∏–µ TaskTranslation –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –ó–∞–≥—Ä—É–∑–∫–∞ –≤ S3
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Telegram
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –æ–± –æ—à–∏–±–∫–∞—Ö

#### üéõÔ∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞ (`tasks/admin.py`)

**TaskAdmin** —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç:

- **–ö–∞—Å—Ç–æ–º–Ω—ã–π template**: `admin/tasks/task_changelist.html` —Å –∫–Ω–æ–ø–∫–æ–π –∏–º–ø–æ—Ä—Ç–∞
- **–ù–æ–≤—ã–π URL**: `/admin/tasks/task/import-json/` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ JSON
- **–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞**: `import_json_view()` —Å —Ñ–æ—Ä–º–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
  
**–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
- `delete_model()` - –£–¥–∞–ª—è–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ translation_group_id + –æ—á–∏—Å—Ç–∫–∞ S3
- `delete_queryset()` - –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å –æ—á–∏—Å—Ç–∫–æ–π S3
- `get_urls()` - –î–æ–±–∞–≤–ª–µ–Ω URL –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

**–ù–æ–≤—ã–µ actions**:
- `publish_to_telegram` - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- `generate_images` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –∑–∞–¥–∞—á
- `delete_with_s3_cleanup` - –£–¥–∞–ª–µ–Ω–∏–µ —Å –æ—á–∏—Å—Ç–∫–æ–π S3

**–ù–æ–≤—ã–µ –ø–æ–ª—è –≤ list_display**:
- `has_image` - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–ª–∏—á–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

#### üîî Django Signals (`tasks/signals.py`)

- **`delete_related_tasks_and_images`** (pre_delete)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ translation_group_id
  - –£–¥–∞–ª—è–µ—Ç –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ S3
  - –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ª—é–±–æ–π –∑–∞–¥–∞—á–∏

- **`log_task_deletion`** (post_delete)
  - –õ–æ–≥–∏—Ä—É–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á

- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ `tasks/apps.py`**:
  ```python
  def ready(self):
      import tasks.signals
  ```

#### üñºÔ∏è –®–∞–±–ª–æ–Ω—ã –∞–¥–º–∏–Ω–∫–∏

1. **`admin/tasks/task_changelist.html`**
   - –ö–Ω–æ–ø–∫–∞ "–ò–º–ø–æ—Ä—Ç –∏–∑ JSON" –≤ toolbar

2. **`admin/tasks/import_json.html`**
   - –§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ JSON —Ñ–∞–π–ª–∞
   - –ß–µ–∫–±–æ–∫—Å "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ Telegram"
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–ª–æ–∫ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
   - –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

#### üõ†Ô∏è Management –∫–æ–º–∞–Ω–¥–∞

**`tasks/management/commands/import_tasks.py`**
```bash
python manage.py import_tasks --file path/to/tasks.json --publish
```

–§—É–Ω–∫—Ü–∏–∏:
- –ò–º–ø–æ—Ä—Ç –∏–∑ CLI
- –§–ª–∞–≥ `--publish` –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ Telegram
- –î–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ —Å emoji (‚úÖ ‚ùå ‚ö†Ô∏è)

#### üìù –ú–µ—Ç–æ–¥—ã –º–æ–¥–µ–ª–∏ Task

–î–æ–±–∞–≤–ª–µ–Ω—ã –≤ `tasks/models.py`:

1. **`delete_with_related()`**
   - –£–¥–∞–ª—è–µ—Ç –∑–∞–¥–∞—á—É —Å–æ –≤—Å–µ–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –ø–æ translation_group_id
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ S3

2. **`publish_to_telegram()`**
   - –ü—É–±–ª–∏–∫—É–µ—Ç –∑–∞–¥–∞—á—É –≤ Telegram
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø–µ—Ä–µ–≤–æ–¥–∞, –≥—Ä—É–ø–ø—ã
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å published
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç dict —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

#### üñºÔ∏è –†–µ—Å—É—Ä—Å—ã

- **–õ–æ–≥–æ—Ç–∏–ø**: –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –∏–∑ `bot/assets/logo.png` –≤ `quiz_backend/media/logos/logo.png`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É

### –ò–∑–º–µ–Ω–µ–Ω–æ

#### `config/settings.py`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ AWS S3
- –î–æ–±–∞–≤–ª–µ–Ω `LOGO_PATH`

#### `tasks/apps.py`
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `ready()` –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤

#### `requirements.txt`
- –î–æ–±–∞–≤–ª–µ–Ω—ã 5 –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –£–¥–∞–ª–µ–Ω–æ

–ù–∏—á–µ–≥–æ –Ω–µ —É–¥–∞–ª–µ–Ω–æ. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–¥–¥–∏—Ç–∏–≤–Ω—ã–µ –∏ –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ.

## –ú–∏–≥—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –ò–∑ –±–æ—Ç–∞ –≤ Django –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ:

| –§—É–Ω–∫—Ü–∏—è –±–æ—Ç–∞ | –§–∞–π–ª –±–æ—Ç–∞ | –§–∞–π–ª Django | –°—Ç–∞—Ç—É—Å |
|-------------|-----------|-------------|--------|
| –ó–∞–≥—Ä—É–∑–∫–∞ –≤ S3 | `bot/services/s3_services.py` | `tasks/services/s3_service.py` | ‚úÖ |
| –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ S3 | `bot/services/deletion_service.py` | `tasks/services/s3_service.py` | ‚úÖ |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | `bot/services/image_service.py` | `tasks/services/image_generation_service.py` | ‚úÖ |
| –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Telegram | `bot/services/publication_service.py` | `tasks/services/telegram_service.py` | ‚úÖ |
| –ò–º–ø–æ—Ä—Ç JSON | `bot/services/task_service.py` | `tasks/services/task_import_service.py` | ‚úÖ |
| –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á | `bot/services/deletion_service.py` | `tasks/signals.py` + `admin.py` | ‚úÖ |
| –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ | `bot/services/image_service.py` | `tasks/services/image_generation_service.py` | ‚úÖ |

### –û—Ç–ª–∏—á–∏—è –æ—Ç –±–æ—Ç–∞:

1. **–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π vs –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π**
   - –ë–æ—Ç: async/await
   - Django: —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ (Django ORM –Ω–µ —Ç—Ä–µ–±—É–µ—Ç async)

2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ë–æ—Ç: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ Telegram
   - Django: Django messages framework + –ª–æ–≥–∏

3. **–•—Ä–∞–Ω–µ–Ω–∏–µ**
   - –ë–æ—Ç: SQLAlchemy (async)
   - Django: Django ORM (sync)

4. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
   - –ë–æ—Ç: Aiogram handlers
   - Django: Admin + Management –∫–æ–º–∞–Ω–¥—ã

## Breaking Changes

**–ù–µ—Ç breaking changes**. –í—Å–µ –Ω–æ–≤–æ–µ - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è.

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

```
task_import_service
    ‚îú‚îÄ‚îÄ s3_service (–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
    ‚îú‚îÄ‚îÄ image_generation_service (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
    ‚îî‚îÄ‚îÄ telegram_service (–ø—É–±–ª–∏–∫–∞—Ü–∏—è)

admin.TaskAdmin
    ‚îú‚îÄ‚îÄ task_import_service (–∏–º–ø–æ—Ä—Ç)
    ‚îú‚îÄ‚îÄ s3_service (—É–¥–∞–ª–µ–Ω–∏–µ)
    ‚îú‚îÄ‚îÄ telegram_service (–ø—É–±–ª–∏–∫–∞—Ü–∏—è)
    ‚îî‚îÄ‚îÄ image_generation_service (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)

signals.delete_related_tasks_and_images
    ‚îî‚îÄ‚îÄ s3_service (—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

Task.publish_to_telegram()
    ‚îî‚îÄ‚îÄ telegram_service

Task.delete_with_related()
    ‚îî‚îÄ‚îÄ signals (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞)
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. ‚úÖ –ò–º–ø–æ—Ä—Ç JSON —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
2. ‚úÖ –ò–º–ø–æ—Ä—Ç JSON —á–µ—Ä–µ–∑ CLI
3. ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
4. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –≤ S3
5. ‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Telegram
6. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å –æ—á–∏—Å—Ç–∫–æ–π S3
7. ‚úÖ –ú–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ

### –¢–µ—Å—Ç —Ñ–∞–π–ª—ã (TODO):
- `tasks/tests/test_s3_service.py`
- `tasks/tests/test_image_generation.py`
- `tasks/tests/test_telegram_service.py`
- `tasks/tests/test_task_import.py`

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ **README.md** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ **MIGRATION_CHANGELOG.md** - –≠—Ç–æ—Ç —Ñ–∞–π–ª
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º (—Å–ª–µ–¥—É—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø—Ä–æ–µ–∫—Ç–∞)
- ‚úÖ Docstrings –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **–ë–∞—Ç—á–∏–Ω–≥**: –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –∞–¥–º–∏–Ω–∫–µ
2. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**: atomic() –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
3. **Lazy loading**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Django ORM select_related/prefetch_related

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

- [ ] Celery –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á
- [ ] CDN –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ S3

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –õ–æ–≥–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤:
- `quiz_backend/logs/debug.log`
- Console (–≤ DEBUG —Ä–µ–∂–∏–º–µ)
- Django Admin messages

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- `INFO`: –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `WARNING`: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥—Ä—É–ø–ø—ã)
- `ERROR`: –û—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ S3)

### Emoji –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
- ‚úÖ –£—Å–ø–µ—Ö
- ‚ùå –û—à–∏–±–∫–∞
- ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- üìÑ –§–∞–π–ª
- üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è
- üì¢ –ü—É–±–ª–∏–∫–∞—Ü–∏—è
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ **–ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**

- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç
- –ë–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–µ —Å–∏—Å—Ç–µ–º—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±—â–∞—è - –æ–¥–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **Celery –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è

2. **API endpoints**
   - REST API –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
   - Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

3. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è**
   - JSON Schema validation
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
   - –î–∞—à–±–æ—Ä–¥ –∏–º–ø–æ—Ä—Ç–æ–≤
   - –ú–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è S3

5. **–¢–µ—Å—Ç—ã**
   - Unit —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   - Integration —Ç–µ—Å—Ç—ã
   - Coverage 80%+

## –ê–≤—Ç–æ—Ä—ã

–ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞.

---

**–î–∞—Ç–∞**: 17 —è–Ω–≤–∞—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

