/* blog/static/blog/css/quiz_styles.css */

/**
 * Стили для основного контейнера задач
 */
.task-detail {
    max-width: 800px; /* Ограничивает общую ширину */
    margin: 20px auto;
    padding: 20px;
    background-color: #fff; /* Белый фон */
}

/**
 * Контейнер для списка задач (сетка)
 */
.tasks {
    display: grid;
    /*grid-template-columns: repeat(2, 1fr); !* Два столбца равной ширины *!*/
    gap: 20px; /* Отступ между задачами */
    max-width: 100%; /* Растягиваем на всю ширину контейнера */
    width: 100%; /* Убедимся, что растягивается полностью */
}

/**
 * Контейнер изображения или кода
 */
.task-image {
    width: 100% !important;
    overflow: hidden;
    background: none; /* убираем фон */
    border: none; /* убираем рамку */
    padding: 0; /* убираем внутренний отступ */
    box-sizing: border-box;
    height: auto;
    border-radius: 10px; /* ✅ оставляем лёгкое скругление */
}


/**
 * Изображение или код внутри контейнера
 */
.task-image img {
    width: 100% !important; /* Растягиваем на всю ширину .task-image */
    object-fit: contain;
    border-radius: 0;
    display: block;
    height: auto; /* Сохраняем пропорции */
    max-width: none !important; /* Убираем ограничение max-width */
}

/**
 * Варианты ответов
 */
.answers {
    margin: 20px 0;
    padding: 20px; /* Добавляем отступы, которые раньше были в .task-item */
    background-color: #add8e6; /* Переносим фон из .task-item */
    border: 1px solid #ddd; /* Переносим границу из .task-item */
    border-radius: 10px; /* Переносим скругление углов из .task-item */
    box-sizing: border-box; /* Учитываем padding и border */
}

/**
 * Стили для отдельных вариантов ответов
 */
.answer-option {
    display: block; /* Меняем с inline-block на block для полной ширины */
    padding: 10px 15px;
    margin: 5px 0; /* Убираем горизонтальные отступы */
    background-color: #008080;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s; /* Добавляем плавный переход */
    color: white; /* Базовый цвет текста */
    text-align: center; /* Центрируем текст */
    user-select: none; /* Запрещаем выделение текста */
    position: relative; /* Для позиционирования эффектов */
}

/**
 * Эффект наведения для варианта ответа
 */
.answer-option:hover {
    background-color: #006666; /* Темнее чем базовый цвет */
}

/**
 * Эффект активного нажатия
 */
.answer-option:active {
    transform: scale(0.98); /* Немного уменьшаем при нажатии */
}

/**
 * Стиль для правильного ответа - теперь !important для приоритета
 */
.answer-option.correct,
.answer-option[data-correct="true"].active {
    background-color: #4CAF50 !important;
    color: white !important;
    box-shadow: 0 0 10px #4CAF50 !important;
}

/**
 * Стиль для неправильного ответа - теперь !important для приоритета
 */
.answer-option.incorrect,
.answer-option[data-correct="false"].active {
    background-color: #f44336 !important;
    color: white !important;
    box-shadow: 0 0 10px #f44336 !important;
}

/**
 * Стили для пагинации
 */
.pagination {
    margin-top: 20px;
    text-align: center;
}

/**
 * Стили для кнопок пагинации
 */
.pagination a.btn {
    padding: 8px 16px;
    margin: 0 10px;
    background-color: var(--orange-yellow-crayola);
    color: var(--eerie-black-1);
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    border-radius: 5px;
}

/**
 * Эффект наведения для кнопок пагинации
 */
.pagination a.btn:hover {
    background-color: var(--vegas-gold);
}

/**
 * Эффект тряски для неправильного ответа
 */
.shake-effect {
    animation: shake 0.5s;
}

/**
 * Анимация для эффекта тряски
 */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
    20%, 40%, 60%, 80% { transform: translateX(5px); }
}

/**
 * Эффект для правильного ответа
 */
.correct-answer {
    animation: glow 0.5s;
    box-shadow: 0 0 20px #4CAF50;
}

/**
 * Анимация для эффекта свечения
 */
@keyframes glow {
    0%, 100% { box-shadow: 0 0 5px #4CAF50; }
    50% { box-shadow: 0 0 20px #4CAF50; }
}

/**
 * Стили для вариантов ответов (объединены с .answer-option)
 */
.quiz-option {
    /* Дополнительные стили уже в .answer-option */
    transition: all 0.3s ease;
}

/**
 * Анимация для эффекта тряски
 */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
}

/**
 * Анимация для эффекта свечения
 */
@keyframes glow {
    0%   { box-shadow: 0 0 5px #00ff00; }
    50%  { box-shadow: 0 0 20px #00ff00; }
    100% { box-shadow: 0 0 5px #00ff00; }
}

/**
 * Стиль для canvas эффектов
 */
#lightning-canvas {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    pointer-events: none !important;
    z-index: 9999 !important; /* Очень высокий z-index */
}

/**
 * Стиль для кода (чтобы фон не мешал)
 */
pre.code-block {
    margin: 0;
    padding: 0;
    background-color: transparent; /* Фон задаётся в .task-image */
}


@media (max-width: 768px) {
    .task-detail {
        padding: 10px;
        margin: 10px;
    }

    .tasks {
        gap: 15px;
    }

    .task-image {
        border-radius: 8px;
        margin-bottom: 10px;
    }

    .task-image img {
        border-radius: 8px;
    }

    .answers {
        padding: 12px;
        margin: 15px 0;
    }

    .answer-option,
    .quiz-option {
        font-size: 18px; /* Увеличим шрифт */
        padding: 15px;
        margin: 10px 0;
        min-height: 30px; /* Минимальная высота для стабильности */
    }

    .pagination {
        margin-top: 15px;
    }

    .pagination a.btn {
        padding: 12px 18px;
        font-size: 16px;
        margin: 0 5px;
    }

    /* Усиление эффектов для мобильной версии */
    .answer-option.correct,
    .answer-option[data-correct="true"].active {
        background-color: #4CAF50 !important;
        color: white !important;
        box-shadow: 0 0 15px #4CAF50 !important;
        font-weight: bold !important;
    }

    .answer-option.incorrect,
    .answer-option[data-correct="false"].active {
        background-color: #f44336 !important;
        color: white !important;
        box-shadow: 0 0 15px #f44336 !important;
        font-weight: bold !important;
    }

    /* Улучшаем видимость canvas на мобильных */
    #lightning-canvas {
        opacity: 1 !important;
    }
}