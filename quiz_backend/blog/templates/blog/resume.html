{% extends "blog/base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'blog/css/resume-enhanced.css' %}">
{% endblock %}

{% block content %}
<article class="resume active" data-page="resume">
    <header>
        <h2 class="h2 article-title">Resume</h2>

        <!-- Переключатель языков -->
        <div class="language-switcher">
            <button class="lang-btn active" data-lang="en">EN</button>
            <button class="lang-btn" data-lang="ru">RU</button>
            <button class="lang-btn" data-lang="es">ES</button>
        </div>
    </header>

    <section class="resume-content">
        <!-- Образование -->
        <div class="timeline">
            <div class="title-wrapper">
                <div class="icon-box">
                    <ion-icon name="book-outline"></ion-icon>
                </div>
                <h3 class="h3 lang-text" data-lang-key="education">Education</h3>
            </div>
            <ol class="timeline-list">
                <li class="timeline-item">
                    <h4 class="h4 timeline-item-title lang-text" data-lang-key="uni1">University name</h4>
                    <span>2019 — 2024</span>
                    <p class="timeline-text lang-text" data-lang-key="uni1-desc">
                        Nemo enims ipsam voluptatem, blanditiis praesentium voluptum delenit atque corrupti, quos dolores et quas molestias exceptur.
                    </p>
                </li>
                <li class="timeline-item">
                    <h4 class="h4 timeline-item-title lang-text" data-lang-key="uni2">University name</h4>
                    <span>2019 — 2024</span>
                    <p class="timeline-text lang-text" data-lang-key="uni2-desc">
                        Nemo enims ipsam voluptatem, blanditiis praesentium voluptum delenit atque corrupti, quos dolores et quas molestias exceptur.
                    </p>
                </li>
            </ol>
        </div>

        <!-- Опыт работы -->
        <div class="timeline">
            <div class="title-wrapper">
                <div class="icon-box">
                    <ion-icon name="briefcase-outline"></ion-icon>
                </div>
                <h3 class="h3 lang-text" data-lang-key="experience">Experience</h3>
            </div>
            <ol class="timeline-list">
                <li class="timeline-item">
                    <h4 class="h4 timeline-item-title lang-text" data-lang-key="exp1">Company name</h4>
                    <span>2021 — Present</span>
                    <p class="timeline-text lang-text" data-lang-key="exp1-desc">
                        Nemo enims ipsam voluptatem, blanditiis praesentium voluptum delenit atque corrupti, quos dolores et quas molestias exceptur.
                    </p>
                </li>
                <li class="timeline-item">
                    <h4 class="h4 timeline-item-title lang-text" data-lang-key="exp2">Company name</h4>
                    <span>2021 — Present</span>
                    <p class="timeline-text lang-text" data-lang-key="exp2-desc">
                        Nemo enims ipsam voluptatem, blanditiis praesentium voluptum delenit atque corrupti, quos dolores et quas molestias exceptur.
                    </p>
                </li>
            </ol>
        </div>
    </section>

    <!-- Кнопки действий -->
    <div class="resume-actions">
        <button id="edit-resume" class="action-btn">
            <ion-icon name="create-outline"></ion-icon> Edit
        </button>
        <button id="download-pdf" class="action-btn">
            <ion-icon name="download-outline"></ion-icon> Download PDF
        </button>
        <button id="download-docx" class="action-btn">
            <ion-icon name="document-outline"></ion-icon> Download DOCX
        </button>
        <button id="print-resume" class="action-btn">
            <ion-icon name="print-outline"></ion-icon> Print
        </button>
    </div>
</article>

<!-- Модальное окно редактирования -->
<div id="edit-modal" class="resume-modal">
    <div class="resume-modal-content">
        <span class="close-btn">&times;</span>
        <h2>Edit Resume</h2>
        <form id="resume-form">
            <div class="form-group">
                <label for="edit-title">Title</label>
                <input type="text" id="edit-title" name="title" value="Resume">
            </div>

            <!-- Секция образования -->
            <div class="form-section">
                <h3>Education</h3>
                <div id="education-items">
                    <!-- Динамически добавляемые поля -->
                </div>
                <button type="button" id="add-education" class="add-item-btn">
                    <ion-icon name="add-circle-outline"></ion-icon> Add Education
                </button>
            </div>

            <!-- Секция опыта -->
            <div class="form-section">
                <h3>Experience</h3>
                <div id="experience-items">
                    <!-- Динамически добавляемые поля -->
                </div>
                <button type="button" id="add-experience" class="add-item-btn">
                    <ion-icon name="add-circle-outline"></ion-icon> Add Experience
                </button>
            </div>

            <div class="form-actions">
                <button type="submit" class="save-btn">Save Changes</button>
                <button type="button" class="cancel-btn">Cancel</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<!-- Заменяем библиотеку docx на более стабильную версию -->
<script src="https://unpkg.com/docx@5.0.2/build/index.js"></script>
<script src="{% static 'blog/js/resume.js' %}"></script>
{% endblock %}